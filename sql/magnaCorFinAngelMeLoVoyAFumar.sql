/*crea bd en codificacion utf8*/

DROP DATABASE IF EXISTS magna;
CREATE DATABASE magna CHARACTER SET utf8 COLLATE utf8_general_ci;



use magna;




/*table estadoUsuario*/
/*when the user is banned */
 
DROP TABLE IF EXISTS estado;
 CREATE TABLE estado
(
idEstado tinyint NOT NULL,
estado varchar(50) NOT NULL,
PRIMARY KEY (idEstado)
);



 /*table usuarios, correou pk*/
 
 DROP TABLE IF EXISTS usuarios;
 CREATE TABLE usuarios
(
usuario varchar(15) NOT NULL,
correoU varchar(50) NOT NULL,
contraU varchar(80) NOT NULL,
nomU varchar(50) NOT NULL,
apeU varchar(255) NOT NULL,
isAdmin boolean NOT NULL,
incidencia tinyint NOT NULL,
estadoU tinyint NOT NULL,
PRIMARY KEY (usuario),
FOREIGN KEY (estadoU) REFERENCES estado(idEstado)
);




DROP TABLE IF EXISTS baneos;
 CREATE TABLE baneos
(
usuBaneo varchar(15) NOT NULL,
fechaBaneo date NOT NULL,
fechaCaduca date NOT NULL,
FOREIGN KEY (usuBaneo) REFERENCES usuarios(usuario)
);



 /*table sessionToken*/
 /* for persistent sessions */
  
 DROP TABLE IF EXISTS sessionToken;
 CREATE TABLE sessionToken
(
usuario varchar(15) NOT NULL,
token varchar(100) NOT NULL,
caducidad date NOT NULL,
FOREIGN KEY (usuario) REFERENCES usuarios(usuario)
);


 /*table seccionesN*/
 /* sections for news */
  
 DROP TABLE IF EXISTS seccionesN;
 CREATE TABLE seccionesN
(
idSeccion varchar(100) NOT NULL,
nomSeccion varchar(200) NOT NULL,
descripSeccion varchar(1000) NOT NULL,
color varchar(50) NOT NULL,
estado tinyint NOT NULL,
PRIMARY KEY (idSeccion),
FOREIGN KEY (estado) REFERENCES estado(idEstado)
);


/*table muroNoticias*/
 /* a wall to news */
  
 DROP TABLE IF EXISTS muroNoticias;
 CREATE TABLE muroNoticias
(
idNoticia int auto_increment NOT NULL,
tituloN varchar(100) NOT NULL,
fechaN date NOT NULL,
usuarioN varchar(100) NOT NULL,
cuerpoN varchar(5000) NOT NULL,
idSeccion varchar(100) NOT NULL,
image longblob,
PRIMARY KEY (idNoticia), 
FOREIGN KEY (usuarioN) REFERENCES usuarios(usuario),
FOREIGN KEY (idSeccion) REFERENCES seccionesN(idSeccion)
);



/*table adjuntosN*/
 /* attachments to news */
  
 DROP TABLE IF EXISTS adjuntosN; 
 CREATE TABLE adjuntosN
(
nomA varchar(100) NOT NULL UNIQUE,
idNoticia int NOT NULL,
archivo longblob NOT NULL,
mime varchar(100) NOT NULL,
comentario varchar(1000) NOT NULL ,
FOREIGN KEY (idNoticia) REFERENCES muroNoticias(idNoticia)
);


/*table comentariosMuro*/
 /* to comment on the news */
  
 DROP TABLE IF EXISTS comentariosMuro;
 CREATE TABLE comentariosMuro
(
idNoticia int NOT NULL,
usuario varchar(100) NOT NULL,
comentario varchar(1000) NOT NULL,
FOREIGN KEY (idNoticia) REFERENCES muroNoticias(idNoticia),
FOREIGN KEY (usuario) REFERENCES usuarios(usuario)
);
  


/*bitacora de movimientos*/
  
 DROP TABLE IF EXISTS bitaMovimientos;
 CREATE TABLE bitaMovimientos
(
idB int auto_increment NOT NULL,
fecha dateTime NOT NULL,
tabla varchar(12) NOT NULL,
movimiento varchar(12) NOT NULL,
usuario varchar(40) NOT NULL,
PRIMARY KEY (idB) 
);

/*tabla para uso de consultas*/
  
 DROP TABLE IF EXISTS dinamic;
 CREATE TABLE dinamic
(
idS varchar(100) NOT NULL,
nomS varchar(200) NOT NULL,
descripS varchar(1000) NOT NULL,
colorS varchar(50) NOT NULL,
estadoS tinyint NOT NULL,
idN int,
tituloN varchar(100),
fechaN date,
usuarioN varchar(100),
cuerpoN varchar(5000),
imageN longblob,
nomA varchar(100),
archivoA longblob,
mimeA varchar(100),
comentarioA varchar(1000) 
);
  



/*-------------------------------------------sp ---------------------------------------------------*/



/*agregaincidencia
solo se hace un call('usuario')
agrega la incidencia y cuando llega a trs limpia y banea

 automatico a 2 pero se puede en un IN! ?
*/
   
DROP PROCEDURE IF EXISTS sp_insIncidencia;
CREATE PROCEDURE sp_insIncidencia
(
IN usu VARCHAR(15)) 
BEGIN

SET @incide =  CAST((SELECT incidencia FROM usuarios WHERE usuario = usu) AS UNSIGNED);
set @incide = @incide + 1;

 UPDATE usuarios SET incidencia = @incide WHERE usuario = usu;

 IF @incide >= 3 THEN 
 UPDATE usuarios SET incidencia = '0', estadoU = '2' WHERE usuario = usu;
 END IF;

End;
 
 
 
/*creaestado*/
  
DROP PROCEDURE IF EXISTS sp_insEstado;
CREATE PROCEDURE sp_insEstado
(
IN idE tinyint(4),
IN estado varchar(50)
) 

BEGIN

INSERT INTO estado VALUES (idE, estado);

End;
  





/*creausuarios*/
  
DROP PROCEDURE IF EXISTS sp_insUsuario;
CREATE PROCEDURE sp_insUsuario
(
IN usu VARCHAR(15),
IN correo VARCHAR(50),
IN contra VARCHAR(80),
IN nom VARCHAR(50),
IN ape VARCHAR(255)
) 

BEGIN

INSERT INTO usuarios VALUES (usu, correo, password(contra), nom, ape, 0, 0, 1);

End;
  


/*creaseccion*/
  
DROP PROCEDURE IF EXISTS sp_insSeccion;
CREATE PROCEDURE sp_insSeccion
(
IN idS VARCHAR(100),
IN nomS VARCHAR(200),
IN descS VARCHAR(1000),
IN colS VARCHAR(50),
IN estadoS tinyint(4))  

BEGIN

INSERT INTO seccionesN VALUES (idS, nomS, descS, colS, estadoS);

End;
  


/*crea token*/
/*se ejecuta asi: call('usuario',@variable); select @variable*/
   
DROP PROCEDURE IF EXISTS sp_newToken;
CREATE PROCEDURE sp_newToken(
usuario  varchar(15),
OUT pret varchar(100)
)
BEGIN

set @token = PASSWORD(DATE_FORMAT(NOW(6),'%Y-%M-%D %h:%i:%s:%f')); 
set @caduca = DATE_ADD(NOW(), INTERVAL 7 DAY);
SET pret = @token;
insert into sessionToken value(usuario,@token,@caduca);

END;
  


/*para login
1 = usuario no existe
2 = mala contra
3 = banneado
4 = login correcto
*/
  
DROP PROCEDURE IF EXISTS sp_login;
CREATE PROCEDURE sp_login(
usua  varchar(15),
contra  varchar(50),
OUT login int(4),
OUT info varchar(500)
)
BEGIN
SET @contra = PASSWORD(contra); 
SELECT contraU FROM usuarios WHERE usuario = usua INTO @contraIn;
SELECT CAST((SELECT COUNT(contraU) FROM usuarios WHERE usuario = usua) AS UNSIGNED ) INTO @exis;
SELECT CAST((SELECT estadoU FROM usuarios WHERE usuario = usua) AS UNSIGNED ) INTO @estado;

IF @exis = 0 THEN
 SET login = 1;
 SET info = 'user does not exist';
ELSEIF @contra != @contraIn THEN 
 SET login = 2; 
 SET info = 'password incorrect';
ELSEIF @estado = 2 THEN 
SET login = 3;
 SET info = 'user is banned';
ELSE 
SET login = 4;
SELECT concat(usuario,';', nomU,' ',apeU,';',isAdmin,';') INTO info from usuarios where usuario = usua;
END IF;
END;
  


/*sp de validar si el token ya caduco*/
  
DROP PROCEDURE IF EXISTS sp_validaToken;
CREATE PROCEDURE sp_validaToken(
tok  varchar(80),

OUT info boolean,
OUT allInfo varchar(100)
)
BEGIN
select caducidad into @caduca from sessionToken where token = tok;
SELECT usuario INTO @usutk FROM sessionToken WHERE token = tok;

SELECT concat(usuario,';',correoU,';',nomU,' ',apeU,';',isAdmin) INTO
allInfo FROM usuarios WHERE usuario = @usutk;

select date(now()) into @actual;


IF @caduca >= @actual THEN
SET info = 1;
update sessionToken set caducidad = DATE_ADD( @actual, INTERVAL 7 DAY) where token = tok;
ELSE
SET info = 0;
END IF;
END;
  



/*insertar noticia*/
  
DROP PROCEDURE IF EXISTS sp_insNoticia;
CREATE PROCEDURE `sp_insNoticia`(

IN titU VARCHAR(100),
IN fechaN date,
IN usuarioN VARCHAR(15),
IN cuerpoN VARCHAR(5000),
IN seccion VARCHAR(100),
IN image LONGBLOB
)
BEGIN

INSERT INTO muroNoticias VALUES (null,titU, fechaN, usuarioN, cuerpoN, seccion, image);

End;
 
 
/*actualizar la tabla para consultas*/ 
  
DROP PROCEDURE IF EXISTS sp_home;
CREATE PROCEDURE sp_home(
in alu int
)
BEGIN
delete from dinamic where 1;

INSERT INTO dinamic
SELECT
seccionesN.idSeccion, seccionesN.nomSeccion, seccionesN.descripSeccion, seccionesN.color, seccionesN.estado,

muroNoticias.idNoticia, muroNoticias.tituloN, muroNoticias.fechaN, muroNoticias.usuarioN,
muroNoticias.cuerpoN, muroNoticias.image,

adjuntosN.nomA, adjuntosN.archivo, adjuntosN.mime, adjuntosN.comentario

FROM seccionesN JOIN muroNoticias ON seccionesN.idSeccion  = muroNoticias.idSeccion
JOIN adjuntosN ON muroNoticias.idNoticia = adjuntosN.idNoticia group BY(adjuntosN.nomA) order by(muroNoticias.idNoticia);

set alu=0;
select MAX(idNoticia) from muroNoticias into @con;
  my_for: LOOP
  
            SET alu=alu+1;
            
            insert into dinamic select 
            seccionesN.idSeccion, seccionesN.nomSeccion, seccionesN.descripSeccion, seccionesN.color, seccionesN.estado,
            muroNoticias.idNoticia, muroNoticias.tituloN, muroNoticias.fechaN, muroNoticias.usuarioN,
            muroNoticias.cuerpoN, muroNoticias.image, null,null,null,null
            from muroNoticias JOIN seccionesN ON seccionesN.idSeccion=muroNoticias.idSeccion  
            where muroNoticias.idNoticia = alu and (select count(idN) from dinamic where idN = alu) = 0 order by (muroNoticias.idNoticia); 
            
            IF alu = @con THEN
                  LEAVE my_for;
            END IF;
            
  END LOOP my_for;
END;
  



/*-----------------------------------------------------trigger------------------------------------*/
/*cuando la incidencia llega a 3 agrega un baneo de 3 dias*/
  
DROP TRIGGER IF EXISTS banea_usuario;
CREATE TRIGGER `banea_usuario` BEFORE UPDATE ON `usuarios`
 FOR EACH ROW BEGIN 

select CAST((select incidencia from usuarios where usuario = NEW.usuario) AS UNSIGNED) into @contadas;

SET @dateTo = NOW();

SET @dateEnd = DATE_ADD(@dateTo, INTERVAL 3 DAY);


IF @contadas >= 3 THEN
 
    INSERT INTO baneos 
    
    VALUES(NEW.usuario,@dateTo,@dateEnd); 

END IF; 
END; 
  


/*--------------------------------------insert---------------------------------------------------*/


call sp_insEstado('1','free');
call sp_insEstado('2','banned');
call sp_insEstado('3','comodin');


/* Insertar de antemano el estado con código 1 en tabla estados */
  
call sp_insSeccion('001','cultura','trata temas populares de el ambito recreativo','blue',1);
call sp_insSeccion('002','acerca de','informacion acerca de magna','purple',1);
  

call sp_insUsuario('ssalas','salas@email.com','123','solio','salas');
call sp_insUsuario('sruiz','ruiz@email.com','123','sergio','ruiz');
call sp_insUsuario('rsolis','solis@email.com','123','regio','solis');
call sp_insUsuario('isolorsano','solorsano@email.com','123','irma','solorsano');
call sp_insUsuario('lorgia','orgia@email.com','123','luis','orgia');
call sp_insUsuario('psanches','sanches@email.com','123','pedro','sanches');
call sp_insUsuario('eorias','orias@email.com','123','emily','orias');
call sp_insUsuario('farguedas','arguedas@email.com','123','fausto','arguedas');
call sp_insUsuario('msolanno','solano@email.com','123','mephisto','solano');
call sp_insUsuario('jrodriguez','rodriguez@email.com','123','jorge','rodriguez');
call sp_insUsuario('achavez','chavez@email.com','123','arturo','chavez');
call sp_insUsuario('cespinoza','espinoza@email.com','123','carlos','espinoza');
call sp_insUsuario('slara','lara@email.com','123','samael','lara');


  
call sp_insNoticia('cambio administrativo',date(now()),'achavez','Magna radio ha vendido parte de sus acciones a imbersionistas extranjeros, lo que ha obligado a la empresa a hacer un fuerte cambio administrativo','001',0x89504e470d0a1a0a0000000d4948445200000020000000200802000000fc18eda30000002b744558744372656174696f6e2054696d65004d6f6e20352044656320323030352031333a33323a3336202d30353030be7084100000000774494d4507d50c0515382bddc71e2f000000097048597300000b1200000b1201d2dd7efc0000000467414d410000b18f0bfc6105000004d44944415478dab556db6b236514ff3233994cee9d269334697a4bb7edf6f6b0adc5e843d185055dd007ddfd0716417c11ff009f05dffd078a20bae082202cac2e5d4554145c5bdb9adda6699b4dd3269bc9ad73c9dc3dc9f4a14927d3ec82876148be7c39bf73ceefdc1c8661a0ff5308fb9f0541605996e3785dd74d531c0e078e637ebf3f1c0ebb5cae4b011c961e94cbe57cbe20492a8e93c120ed767b4cd5f036da228a7cad564548a328627c7c2c1008f40b00266f6ded50546070903135da0bfcbd582c20242f2ece9324790900687ffc786b6c6caa1fd5e745d3b45c6e37957a8520083b808d8d7f42a1c48b6a3745511449aacccccc749d639d97d497d30e02b6739c70f1bc03401439967dfe7200fbfbd97a9dbb048061188f073b3a3a340cbd7fd540c0e6e6e6dada2359b648c86e4e92c924c39c66327bb2acd334e3f3f97b050dc8abd7abb9dcb38d8d83bdbd46bdae5987eee291d7eb5d58589024e5f8f8389fcfaaaa6e9c494ba9a6e9b2ac729cc8b2a78d067cd0e1adeb3d99eb59c918864522d181811020c1d36c2aa2288ba224cbb22048a2a8e9ba17a126d49c7d00bbb248b1bf6d3a617a636593c5690740ad562b958a36006b7bf79e96b3a228689ada0542d318416097004016f13c9fcd662d2d84d42227e4f2cafe43f6a7220b9d4ad4f516b19004c1a0ae6946bf59d468349e3cf917b0a11d9124750ec07019d45bb3af8793d12f1e7c5dfb559e2012380e4961b02cce71d63c5b900ca93937372fcb4aa15038393986f286b481af40b2e29234a4395dd8dbef2cdd5f7ab4fecdc3d9c36b6e23a8aa60bbd12f8029388ec762f170380adaa16f4b92ccf34dadba7e800eaaa85a44456258a13ea97cffcb57e377972684294dc34cf6bbeaa603405555642ba7e8348dd26ee46ea0460115aa58b5b99aff7d6ef7e9970bb3eb2b82d0803c84a6e4688b0540a55229959ec3a8ea055047f5347a46225244620995e0e10d1e517ae5d6ce6f5327d1437475ffca683ce176bb21006dfe1d1d0091480418e6386e7474d412000cafa30c810809490056312a8aac21d189245c8f8af7b0effef861e7d3e487ef5e7b737070d0e9745a7030393909d5b0bdbd8de344243244921d539743dc213ac411ae1a6a13355559473c8e84f623e24875e47db98ffefa2c5f3cfee0faad582c06181624c3809d9d9d83ae70747404de40f351554d5134e01922732a7308c20bcd47712089407cfb118816004f78f602afe593b4c701ab02549535c0193904118f0fb753e8ac17418323ca14aa9330065b002a00b46d07008e4039f7c8cfe19496bc7a651ac2100a85ccf1d90170f98e2461a8e66c790017150cc958cbf00a49fe1808de77aecc8f5fbff1c6e2e222542b4dd31600d0a86161017e6c01da1e18a60718b6e3a3bff50de4a808c3dcbefddef2f2f2d0d050cf2c1a1919d9dddd85b80f0f0ff700c0cf3c80895723fd0f02437f7afc043dba10bf73e7fd54ead56030685707703a3d3d5dad56d3e9342c700c13c530a2db832a09f121d3def8ba3f22fae3c9d8ea6aeae6cd1b894482a228982276956c0add16182cf93c64110fbd0818069e21af5441c3446fe2efc044c13f3535b9b2b29c4aa5c06f9fcf6746fce27c75f4bffc4223f9f8eee751d6a9141b602f8c552013088385ee7c4c5e1e00b607e825994c069c0392a0ec3d1e0f9069bf4abd0000dc845e06eb25041ac2dd45662ff90f5740a634983313cd0000000049454e44ae426082);
call sp_insNoticia('La Fertilización In Vitro ',date(now()),'achavez','del latín In vitro: En cristal-, es una técnica de reproducción asistida aplicada actualmente en gran parte de la población mundial, por diversas razones. Suele ser utilizada como última instancia para tratar la infertilidad.','002',null);
call sp_insNoticia('Estimulación Ovárica',date(now()),'eorias','Se trata de tratamientos hormonales aplicados sobre la paciente en determinada fase de su ciclo menstrual con el fin de obtener ovulación ','001',null);
call sp_insNoticia('Recuperación de ovocitos',date(now()),'farguedas','El proceso de ovulación tiene lugar 36 horas después de aplicadas las dosis de medicamentos en la fase anterior, por esto, la extracción de ovocitos debe darse antes de que esto ocurra.','002',0xffd8ffe000104a46494600010100000100010000ffdb008400090607141212151412141414140f1615151510141614121014191414161716141714181c3422181e271b151421312425292b2f2e2e171f3338332e37282d2e2b010a0a0a0e0d0e1a10101b2c2520242c2d2c2d2d2c2c2c2c2d2c2c2c342c2c2c2d2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2c2cffc000110800a000a003011100021101031101ffc4001c0000010501010100000000000000000000000203050607040108ffc4003c100002020003040606080700030000000001020003040511061221310741516171812232425291c1133343728292a1b114232462b2c2e11734d1ffc4001b01010002030101000000000000000000000001020304050607ffc40032110002020102040307030403000000000000010203110412052131415161711314228191c1d10632b1232442a13362e1ffda000c03010002110311003f00dc600400801002004008010020040080100200400801002004008010020040080100200401175ca80b330551cd9880079990de3a9318b93c4565952cd7a46c255a842d730eaac7a3f9cf09af3d5423d399dad3700d55bce494579fe0af5bd285ce7769c32027902cd63fc1544d77ad93e5189d68fe99a611dd6daf1e892fab63e9b439bd9c568551de807f936b2cadd43e9130cb45c1abe52b5bf47f8429b3fcdd38b61d5877203fe2dac7b4d42eb10b47c1ace51b5af57f94355749d6a36edf861a8e603356e3f0b2caad6c93c4a26597e98aa71dd4dbcbd135f54cb2655b7b84bb4058d4c7d9b4683f30e13621aaae5e472753c07594f34b72ff00afe3a9674704020820f223883e7364e334d3c31504040080100200400801002004008051f6bba43ab0c4d540175dd675fe557f788e67b84d6b750a3c973676b41c1a7a8f8ecf863fed99666d9cdf8a6dec4585fac2f2ad7c13909cfb2c94ff00733d869347569d62a8e3f9fa967d98d886b40b311aa21e22a1c1dbc4fb23f599e9d2b9739f4391c478fc6a6ebd3f37e3d97a78ff00068997e5d5d234a91507f6800f99eb9d08c231e88f2576a2dbdeeb24dfa9dca92c611c5580378ccbebb9776d4571fdc013e47aa56508cbaa33537db4bdd5c9a7e4679b53b00d58366175741a96a4f175fba7da1ddce73eed238f381ebb86fea156355ea793ed2ecfd7c3d4abe499f5f853ad3610bd759e351fc3d5e535abb650fdacee6b34146a962d8f3f1eff005351d96db8ab15e85805377ba4ea8ff71be467469d4c67c9f2678be25c0edd2fc70f8a1e3dd7aafb96c9b470c2004008010020040080100c97a42dbfdf2d86c1b68bc45b7a9f5ba8a21eced334afbffc627a5e17c2f18b6e5e8beeff000674826933d444bd747fb3c1cff1168d554ff2d4f591cdcf70ea9b5a6a73f1bf91c0e39c49c17bbd6f9bfdcfcbc3f269882740f227420803a0401604014201ec0335e92366427f5548d149fe6a0ea27938f1eb9ced5d18f8e3f33d8fe9fe26e5fdb5af9ff8bfb7e0cfc8d6689ead3342d88dba2ba518b6d57804bcf31fdafdddf37b4faac7c33fa9e538bf0252cdda65cfbc7eebf069a0ce89e38f600400801002004032ee9576d3737b05873e930d2fb01e2a0fd98ef239f60f19ab7db8f851dde15a1dcfdb4fa765f732aac4d167a981d984a0d8ea8beb58c14799d3590a3b9e119276c6a839cba259370cbb0eb5a2a2fab580a3ca76231515847ce6db256cdce5d5bc92286498ce8430079600b10050807b006717865b51ab71aad8a548ee2244a2a4b0cbd764ab9a9c7aa79301c7611a9b1ea6f5aa6284f6e879f98d0f9ce14a2e2da67d528ba37571b63d24b23064194d2fa36daaded30971e207f25c9e607d99ef1d5ff2743497e7e097c8f1dc7f856dcea6ae9fe4bc3cff00268b37cf281002004008070e6f8d1527f73705f1edf2807ccd8cad96db15c92caee198f363bc7563e3cfce7324b0cf734494a116ba34810cc6cdb8b2c7b0f5ef632bd7d90cdf01a7ce64d3acd88d2e3166dd1cbcf08d76933a67883b10c01f43007d0c01d0600a80100f6018d748b485c759a7b6a8de6469f29c8d52c5acfa17009b968639ecda2b3acd73b43b84ad9ac454243b3a0561cc316001f23c64c536d60c774a31ae529f449e7d307d0f436a3bc703ff00d9de3e4e39002004008052734c77d35c4fb35eaabe5ccf9980643b6556ee36efee21be2a273ee5f1b3d770d9eed3c7e844a99859d38b2c3b0f7eee32bd7dade5f88ff93250f16234b8b4776925e5866c1499d23c59d68600f29803c8d00795a00e0300540080633d225e1b1f669ec045f3035f9ce46a9e6d67d0f8057b7431cf76d95a9ae7649bd8ba77f1d871d8fbdf9549fdf499b4eb3644e6f189ecd0dafcb1f566d45b7581ea3c0cec9f353b200400804767f8cfa2a1d87323757c5b84028d843a40338dbc6feb5feea7ed346ffde7a8e16ffb75eac8353309d54c7f0d8835b2bafad5b061e20eb21727945a51538b84ba35836ecb31ab6a2d8bead8030f3ea9d48c949651e0edae55cdc25d512b55924a1d0ad00754c01c0d00715e00e2b401bc6e316aadec73a2d6a589f0ea912928acb325554ad9a847ab783e7fc662dadb1ec7f5ad62e7bb78eba7972f29c393726db3ea34c235571ae3d12c0d6b2a65c962e8fdbfafa7f17f899b1a6ff951cae39cf433f97f26cb885d44eb9f3a1ec2d9aa8eee07ca00f4008053f6fb15f555f8b9f2e03fda010143c0330dabc46fe2ee3d8c17f2803f7d668dbce4cf53a05b688a22c1988df4c70348c19148b86c2ed18a8fd05a74463aa31e4ac79a9ee333d166df859c7e2ba276af6b5ae6baaf134caae9ba79b3aebba00fa5d00796d802c3c01e4680663d246d58b7fa6a5b5443adae393303c10770eb9cfd4ddbbe147ade07c39d5fd7b1737d1782f12881a69e0f4aa47a1a460b6e26364b15f478dc3b13c3e9141fc5aafce64a5e2c4cd3e251f69a4b23e5fc73377b2764f9b8d65efe932f81f91f9403be004033bdb6b75c491ee2a8f9fce010dfc50452c792024f90d61bc1318ee692ee64b6de5d998f37258f8b1d6683e67ac8e22925d8f03cae0c8a42c3c8c1914c5879182ea65af6776d1e9012e06cac700c3d751fec267aee71e4ce56af86c6d7bebe4ffd3fc1a06599dd570d6ab15bb81f48788e736a3352e870ada2ca9e26b049a62658c23e98980338ecf29a06b6d8a9dc4fa47c17999594e31eaccd4d165cf108b650769ba417b81af0e0d759d43587eb1c760f747eb34edbdcb944f47a1e130a9a9dbcdf8765f9298af353077d4c5878c1752141a460b290a1611c4731c41ec2388905b29f27d0fa272ec60ba9aed1cad456f88e3faeb3b3196e499f35baa7559283ecf079866d2d1de08963112b002019aed7ff00ed3fe1ff001100a1ed9e63f4757d18f5aee7dca39fc794c56cb0b06fe82add3defa2fe4a36f4d6c1dadc7a1a304ee141a460b6e3ddf9182db8f7e92304ef3d5b743a8e04758e07e318277f624a8da1c4a705bec1e2dbdfbcb294977304a8a25d6085dbb458961a35f669dcdbbfb487293ee5a3a7a23d208e036ea7527527993c49f394c1b6acc2c2142d9182eac162c918322b070592b82ea628592305d4c58b2460ba99aa74539fef54d8673e953e957de8c788f23fa19bba59f2dacf31c774f8b15cbbf27ebffa5db0afadcbe7fb4db3804dc008066dd24deb87b7e95ce8ac808ed246a341df22524965992aae564b6c4c4732c6b5d61b1f9b721d4a3a84d472cbc9e82ba9570da8e490583582321ac1393dd609c9eeb0321ac82721ac1393dd6064f77a304ee3d0f230594c58b2460bab0705923064560b164ae0c8ac1c1648c1915875e5b993d162db59d190ea3b0f683dc64c5b8bca2b7463741c27d19b8ec4e7298c22c4f654ef275a13c3433a109a92ca3c76a74f3a27b65f27e25ce5cd708065fd3b64e6cc3538851aff000accaff72dd38f932afc661b972c9d1e1d6624e0fbfd8c3ccd73ae24c92ac4eb24ae435823224bc9c11b8eec1e577dbea56c47691ba3e2655ca2bab31bbe2bb93786d88c4b7335af8927f61313ba28a7bd2ec8ef4e8f2d3cef4fc8c7e729ef0bc08f7af21dff00c6d6f55e9e68c3e71ef0bc09f7af239b11d1de297d5353f812a7f51256a205d6aa3dd1058fc83134fd652e07bc06f2fc5794c8a717d19923745f723434b99727a1a46094c5879182ea62c592305d4c50b2460bef36be83b292987b712c38e2582a7dcaf5e3e6cc7e026d511c2c9c3e2b76e9a82edf734d99ce504039b31c125f53d560d52d528c3b88d24359582d0938c949763e5cda5c8ecc1621e8b79a1f45ba9d0faae3c44d492c3c1e8aab159152444318424c65ec9648c329e0ebcbb2e7bb8faabef1e67c0449a89ab3d463922eb936475d7a10ba9f79b899ad3b1b3039ca5d49ec531aebd500df62a89af2de760abaf76a66382dd2c10f922430784be8c4d985bdd6d6444b12c55ddd4312194af7103e32da9ad430d115cb71395e0dbb269ee466c1d7560dbb257721821f35188b31556130eeb5358965af6b2efe8a9a0002f7927e136f4b4c6ccb662b66e3d0eac8ef6ba90ce06fab3d6fbbeaef56c55b4eed44c16c764da2f17b9648ccfb6470f8804b56158fda27a2ff00f7ce4c2e944cb19ca3d0cc768f64eec26adf5950f6c0d0afde5eaf19bb5daa66cc2f52e4caf8699706752140c82e992bb3592598ec425157373e9375220f59cf80851cbc15b6d55c5c99f51e5d824a2a4aab1a254a1547701a4dc4b0b079c9c9ca4e4fb9d324a8400805636ef63abcca9dd2425d5ea6abb4d4a93cd5bb54f0949c3723634fa874cbcbb9f38ed0e497e0ed356210a30e5d6ac3de56eb13061a78675fda4671dd1647e5b871659a1e406a476cb378468dd265e32bc213c04d69c8d748b8e5b9676cd594cc891c9d210fa0c1875e6b7527e0e0cbe95e6c1672427a3ace5f19985f659cc50a3b7dbff92fade505ea56bea6af5a8ec9cc126c7828831e5993f49f9d3e1332c3d95f338771d9f693a7a25f03f527258ba22bbe97005db9b5f793e7613306b17f57e488dcd16ebf02ad357a19236bee40669949d0f58ec978ccc89a7d0c0f6cb2e5c362995382b00e17a975e60774ead52dd1cb366ab1e398d6cfe4b7e32d1561d0bb1e7d4aa3de66ea12fb5be86776c60b3267d1bb07b1d5e5b4ee821eeb3436dda68588e4abd8a38cd884369c8d46a1dd2f2ec59e5cd70801002004023f3ac968c5d66bc456b621ea23883daa7983e121a4fa97859283cc59926d374655e03fa8a2d66ac9dc3538059778f021c731d5a11e735ed8e2267777b4e4d1cd94a059a5325168c25b35da32221ba4d4dfcbecd3ecdab73e0ae099974bcad456dfda42f41edae2314e390aea5d7bcb39f94cdaff00db14529e6d9b45764e5992513a16c906271318e9dc6ee270961e4d5dc9af7ab21ff69d4d0738c97a1597268baf439414caea27ed1acb0783b923f49abac7fd5642e85d4b4d6c93818bdc69065845946cc7a33ab30c4ff1175acb5a80829ac00cda12492e790e3a68079cec68a39af2c99ddecde122f992e4b4612b15e1eb5ad07501c49ed63cc9f19bc925d0d59ce537993242494080100200400801008dda2cbff88c3d95f5b2eabf78711fa894b23ba2d13178663f50d3bb49cb66d92586c4e9ce51a2533b99d5d4a380cae082a791079894e69e51617b3b97d18452b42040c778e9a924f2e24c8b2729bcc84528f42c5563a61712f93a931825703088fcfb28c363502625058a877975d410796a0897aec9d6f31655c13ea49e1592b45440152b01554700001a00251b6de58d88f5f172304ec447e3330d04ba8e49e859b2da0a56aa79e9a9f13c4cf414c364144e7ce5ba593a6642a100200400801002004008050f6c7665b7cdf42ef06e2e83983ef01d60cd2be979dd133d73ecca6eb34ccc2d6d2200fa634891b464e9af33957027274266c3b65761391e5ce076c8f664ee3d39e0ed91ecc6e39edcf3b3596558dc58b65f27b1d85d78dd55e2959f589f788ea026fe9b4d87ba46bd967645ca6f9ae100200400801002004008010020117996cfe1efe3656378fb6be8b7c47398e75425d516536ba15dc5747ea7eaae65ee750dfa8226bcb48bb3322bbc511b6ec26207aaf5379b2fee2637a49f897f6d1186d8bc5fba87f1895f76b09f6b105d8bc5fba83f188f76b07b588fd5b09883eb3d4be6cdfb0965a49f891eda249e17a3f51f59733772285fd493324748bbb28eef045872dd9fc3d1c6bac6f0f6dbd26f89e536214c23d118dcdbea4a4c854200400801002004008010020040080100200400801002004008010020040080100201ffd9);
call sp_insNoticia('Maduración de ovocitos',date(now()),'jsolorsano','Proceso posterior a la extracción de los ovocitos. Estas células son muy sensibles, principalmente a la temperatura y la sangre anticuerpos-','002',null);
call sp_insNoticia('Fecundación (In Vitro  ICSI)',date(now()),'lorgia','Si la cifra de conteo brinda una relación 75000:1, espermatozoides respecto a ovocitos, el procedimiento suele ser llevado a cabo in vitro, de lo contrario se opta por la inyección de espermatozoides.','001',null);
call sp_insNoticia('Transferencia de embriones',date(now()),'msolano','Según el criterio de un embriólogo se puntúan los embriones y transfieren a la madre.','001',null);
call sp_insNoticia('Lorem ipsum ',date(now()),'rsolis','tincidunt elit ex nec est. Donec condimentum a magna id venenatis. Aliquam porta eget odio id iaculis. Donec eget odio dignissim, scelerisque lectus eget, luctus lor','001',0xffd8ffe000104a46494600010100000100010000ffdb008400090607121212151313121516151618151b15181715171818191d18181618171a1718181d2820181a251f171722312125292b2e2e2e171f3338332d37282d2e2b010a0a0a0e0d0e1a10101a2d2520262d2d2d2d2d2d2d2d2d2d2f2d2d2d2d2d2d2d2d2d2d2d2d2d2d2f2d2d2d2d2d2d2d2d2d2e2d2d2d2d2d2d2d2d2d2d2d2d2d2dffc000110800e100e103011100021101031101ffc4001c0001000105010100000000000000000000000602030405070801ffc4004b1000010302030406060606060a0300000001000203041105122106314151071361718191223272a1b1c114234252628273a2b2d1e1f01553638392c216243334437493a3b3d20844f1ffc4001b01010002030101000000000000000000000002050103040607ffc400371100020102030408060105010003000000000102031104213105124151132261718191b1d13242a1c1e1f00614152352f133347292ffda000c03010002110311003f00ee280200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020223b41d24e1b484b1f5024935fab8475afb8e072fa2d3d8e210ca4e4ec88757f4c53bff00dd70fb0e0fa89037ce366bfacb53ad05c4efa5b2f1553e5b77e5f9fa1a2aae907199375453c1fa2803bff2972d6f12b823b61b0aa3f8a697767ec619dabc5cefc4a4f08611f06a8ff52f91bd6c18f19bf2fc81b5b8b8dd8949e30c07e2c59fea5f230f61c784df97e4cca5e917188c6b3d3cdfa5832ffe22d525885c51cf3d8935f0cd795bdcdf5074c73374a9a0b8e2e82507ca39003faca6ab419c953666221c2fdc4bb04e92f0ca921a2a3a990dbd09da6276bb802ef45c7b038ad89a7a1c3284a0ed25625ed37d46e59227d4010040100401004010040100401004010040100401010adb4e9229680985a0d454f086323d136bfd6bf74637733a8d2daac3692bb274e9cea4b760aece4d8fed0d7e217fa4ce6388ff00f5e025acb727bb7c9e26dcacb9a788ff0052ff000bb13e6aefc17ddfb799afa6a46462cc686f70d7c4ef2b9e5272d4bba387a5455a9c52fde65e513704010141422ca1cb26b650564832dc91870b380239117594dad0d738466ad25733b04c66ae88834952f8dbfd538f5909e7f56ef57bdb62b746bc96a56d7d954a79c3aafcd1d2766fa5c89d6657c5f477683ad65df013a6f3eb47af304732ba235232d0a5af82ad47392cb9ad0e954f3b5ed0f639ae6b85dae6905a41dc411a10a67297100401004010040100401004010040100407c73801726c06f280e35b73d264952e7d2e1af2c8c12d96ac6f3cdb4fff00bf95b4275d4a8a08eec1602a62659651e2fdbb482d251b231668d4eae71d5ce3cdc78ae19cdc9dd9eb70d85a7878eed35e3c5f7990a27415d3c2e91d958d73ddc9a0b8f90519ce305793b2ed312928abc9d9769bda4d8cac7ea636b07e3701ee6dcae0a9b570d0f9afdcbfe1c53da3878f1bf72ff86d23e8f64fb550c1ecc65def2e0b925b6e1f2c1f9dbecce77b5a1c20fcff000cbffe80b06f9dfe0c68f995a9edb9f082f323fdd24f48a2d49b08ce13bbc5a0fcc2cadb73e305e64d6d093d6260cfb0cf1eaced3dec2df78715be3b6a0f583f3bfd91b16313f97ea6aeab64ea9bb9ad7fb0e1f075975d3da98796adaef5ed726abc19a5a9a67c66d231cc3f89a45fbafbd7742a42a2bc1a7dc4934f42d2919080cfd9ec76aa81d9a964cad26ee85f7742ff00cbf60fe26d8f7adf0acd6a55e2765d3a99d3eabfa7e3c0ecbb19b7f4d5f68c8ea6a6dac2f23d2e6627ee91bdda8e202e98c9495d1415a8ce8cb766ac4bd48d4100401004010040100401004010040711e93b6d5d5b23e8695f6a661b54cad3fed5dc6261fb8389e3ddeb6aab537176963b3f02f133cfe15abfb2fdc8894510680d68b01b805c2db6eecf61084611518ab2467e1985cd50ecb130b8f13b9adf69db87c568af88a7423bd51dbd5f72215abd3a2af376f5273846c1c4cb3a77191df745dac1f377b8762a0c46d9a92ca92b2e7abf65fb994d5f6ace5953565cf8fb22574d4cc8db9636358d1c1a001ee5513a929bde9bbbed2b27394dde4eecbaa2441408b120593744c7785946e8961ea68df12d2913299181c2ce0083bc1171e45663271774cc9a2c4764a9e4d5a0c4ee6cf57c5a74f2b2b1a3b52bd3ca5d65dbaf9ffd36c6b496b9914c53662a21b90deb19f799727c5bbc7bd5c61f68d1ab95ecf93f737c6ac64691779b4a648c1b5f7820b48362d2371691a82398528c9c5dd1aead28558eecd5d1d1762ba4e7c5960c41c5ecdcca9b6ade42a00e1fda0fcc3795d74eaa964f53ce63367ce8f5a39c7d3bfdcebd1bc380734820804106e083b8823785b4ae2a4010040100401004010040101ce7a60dad753c4da2a775aa6a41cce0758a2d439fa6e27568fcdc40519c9455d9bf0d4255ea2a71e3f439452d3b6360634580fe6e7b5574a4e4eecf6f468c68c1421a2259b2db24ea9b492dd90f0e0e7fb3c9bdbe5cd54e3b6946875219cbe8bf3d9e671e331ea8f5219cbe8bf3d9e6748a3a5644c0c8da1ad1b801fcdcf6af3352a4ea4b7a6eeca09d494e5bd27765e50201014c9235a2ee21a399200f7acc62e4ed15730da5a9ae9b68695bbe761f6497fec82bae1b3f132d20fc72f5353c4525f31832ed55370738f730fcecb7ad95897aa4bc42c6d25c7e85876d34277364f21fbd4bfb4d7e6bcdfb135b4692e0ff007c4a3fd2088fd97f90fdea5fdaeb2e2bebec6c8ed4a5c9fef89f5b8c427ed11ded3f25096cfaeb85fc4df1da5877c6de0cc98aa98ef55ed3dc45fc973ce85487c5168e9857a73f8649f89796a3684069f18d9c82a2e48c8ffbedde7da1b9df1ed5dd86da156865aae4fedc8db0ab28905c63029a98fa62ece0f6fabe3f74f7fbd7a1c36369621755e7c9ebf93aa1514b4358ba89925d87db4970e708dd9a5a42758f7ba2bef743f87898fc458e87a69d6e1228f1bb36d79d15debdbdbc8eeb8757c551132685ed92378bb5cd37047efece0ba4a3325004010040100401004059adaa6451be591c1ac8dae73c9dc1ad0493e4101e689f127d64f356c97cd3bbd007ec46348d83c00efdeb8ebceeec7a9d8f86e8e9748f597a7e75f2259b1bb39d79eba51f54d3e8b7fac239fe01efddcd50ed2c7f42ba3a7f13e3cbf3e874e3719d12dc87c5e9f93a6b1797679e67d43068f19da88601607ac7f06b7778bb75bbaeac70bb2eb56777d55cdfb1cd571508699b21d5bb5d5726e788c726003f58dcf910af696cac3435577dbeda1c33c5d5971b771a59a673cddee738f37124fbd58421182b455bb8e76dbd4a9811832630b5b064461419933e8e8649348d8e77b209f7ee0a04d45bd0df51ec64efd5e5b18ed399de4dd3deb2a2cdb1a127a99afd8888699e47bbb32b40efb83f15aead49472a71de7f4f17f637c309079c99665d9b9a21764cf0393835edf76e55b577b5ad4577afc7dceca719472a555f73ccc3aaaa9a9c074f15e33a75b11bb7b9c0ead3dfe1751fedb1ab1dfa12f07fbf6367f709d27bb5a3e2bd8c8a3af8e51e83c1e63711de0eaabeb61ead17d78dbd3ccefa388a7595e0efebe45f7b410410083bc1d41ef0b526d3ba3790fc7b6437be987698effb04eeee3e1c95de0f6afc95bcfdfdce8857e1221ae6904820823783a11de15ea69aba3a4dd6c76d54d86cb99977d3bcde6847fe48afeac8388dce1bf5b11d14aadb265463f67efdea5259f15cff003ea77dc2b128aa6264f03c3e378bb5c3e041d411b883a82082ba8f3c65a008020080200802039df4e18a18e8053b4d9d552b23d0d8860f4e43dd66869f69624ecae6da34dd4a9182e2ce6780618679990b746ef71fbad6daff0021de42a5c5e2150a4ea3d78779ece7354a9dd70c91d7e9636b1ad63400d6801a06e006e5e2e727393949e6ca19b726db2d6258bc700f48ddc7d568de7f70ed5d186c254c43eae9c59c55eb4692cf5e444b11c6a59bd63959f746ef1fbde2bd061f054a868aef9bfdc8aba95e7535d391199e5cce27cbb959c55958e62da9032b0ec3669dd9618dcf3c728d0779dc3c4ac3762518b968896e1dd1e543b5964646390bbdde36b0f79507237c70d2e24868f60a99bebba47f8868f268bfbd42e6e5878ad4dcd2e014b1fab033bc8cc7cdd72b06c54a0b81b202da042610112e9136cc6190b0b63cf2ca5c2306e1832db339e46b6198683537e1a95ba8d2e91986ec73cc37a65ac63c1a98217c6ed408daf8dd979b0b9ce0e1fcdd754b0916b264778e9d81e2f4d55175f010f81fe8cac2358cf10f670dfa8dd637171654b3a0f0953792eabd7b3b576733a549558eebd7876f611dda5d87730f5f457e66307d21db19e23f0f95f72edbc66ad2cd32be746507bd4f535984ed16bd5d47a2e1a6622daf278fb27f9d152e3365b8f5e8e9cbdb996584da77ea56c9f3f7e44895297069b68367a3a919859b281a3b81ec7f31dbbc7b977e0f1f3c3bb3ce3cbd8db4eab8f71ceeb291f13cb246e570e1f020f11dabd3d2ab0ab15383ba3b134d5d1b8d89dab7e1b313aba9a43f5f18d483fd6c63ef8e23ed01cc05d74aadb26546d1c06fff00969acf8ae7dbdfea77ea4aa64ac6c91b83d8f01cc734dc1045c105751e7cbc8020080200802038e74c937598950437d191be423f48f6b3fc8568c4bb53658ecb8df117e49bfb7dcc9d8dc3fab12c846af91e07b2c7103df7f20bc76d5afbf38d35a25f57f82eb152de69723698de32206d86b23bd51cbf11ecf8ae5c1609e2259e515afb229b198954565abd3dc85be773dc5ce24b8ef257a78c2308a8c55914129393bbd4ada50c1851e1f239c1ad6e624d85adaad93ad0845ca4ec908c2526a3159937d9de8fc1024a975c708d84807da76ff016ef5aa9e25548ef4564f4b9d6b09bafaec9f5353b2368631ad6b46e6b400078059de3a5452c91752e6425cc04b80973212e0c2c530aa7a9686d4431cad69cc048c6b803cc0214a351c74662c59c7701a7ac84c13c4d732de8d800586d60633f648ecf82cc2ab8bba16388d1cf3ecfe2458f25d0bad9f4d25889395e07df6eba730e1b9d7560f76bd3bad7ee434677ca62c2d0e6105ae00b483e890750470b1ec556928e491b5b6f531713c1a9ea07d6c4c71b68e20661dcede926dc5a4edda41c22de6ae456bb06740d229f42dd72389735c3902e3767658db9af3b3a9fe670c57ffa4acfbfb7d4ed8294217a0fc1e6bbbb3d0c5c33146cc2deac82f998778b6fdfbd4713849d177d62f47c0eac362e1595b49714538d60f1d4b32bb470f51e37b4fcc730a385c5cf0f2bc74e2b99db09b8bc8e6b88d03e090c720b11b8f0238107885eae8d6856829c343b632525744a3a33daff00a14a29a677faacaef449dd048e3ee8de4ebc1ae37dc495df46a5faaca1da782dc7d2c34e3d9da7715d0538401004010040711e971a5b8d53c87d534ac00fb350f2ef7382e7c52bd3b169b27ff67ffd5faa25af22189ae3a34461c7cae7dff15e12ac2552bb8ad5bb7d8eea95525294b85fe8402aeadd2bdcf76f27c87003b97a9a3463460a11e0792ab565566e72e27c6394da35970c800b951b5cc938d97c2b206978b3df6bf3683c3bf9ff0005e731788fea6b2a517d5bf9f37ec5e6170fd0c1ce5f17a767b9380ae934b24691759de06836c76ba0c3a2cf27a4f75faa881f49e46ff65a34bbb85f89201dd4694aabb230dd8e442bf1ac6deeea8bdb1036218e30c0cec73c6b21dd71e91e360ac1aa34167af9b35e6cdcecf747f8bd2d542f6d430461ec32964ef2d2d04676ba373467b8b81dfc16aa98aa338356cfb8ceeb3b25d576f1b0f974de02e9bc05d37811cdb3d8e8312646d95cf63a324b5f1e5cd677acd3981194d81ef685ba8e2254af630e373758651320863863be4898c632e6e6cc01a2e789b05aa53de6db09193758de326bf166681de1f31f354fb5609eecfc3ee74e1dea8826d761371f488ee1ecd5f977903ed0b711f0ee53d978c4bfc153e17a5fd3b9fa9a31d866ff00cb0d572f5f030f05da506cc988ec7f03ed72ef5bb19b2ed79d1f2f6f62583da97ea56f3f7f73698de12ca98f29d1c3563b91f983c42aec2e2a7879dd69c57ef12f69cdc5dd1cc6ba8dd1b9d148db11a381dc41e5cc10bd652ab1a915383c8edeace3cd33acf449b56668cd14ce26685b789c4eb24434173c5ecd1a7982d3c4ab1a73de4795c6e15e1ea5b83d3f7b0e8ab61c61004010040728e9df0d36a4ab00da37be292dc04a06427900e6daff00882d7515e2cecc055e8f1116fbbccf9895519b0a89e0fa568daeb736e8ff007b1795a14d471cd3e17b78e9ea6ddab7a6a71e6fef7218d2aed9e78ba1ca36326d76428be91375ae1f5711f447de7f027bb7f8855bb5711d0d3e8e3f14b5eefce9e6586cfa1d24f7de8bd7f0745a2367b7bc2f3b8796ed68bed2e2a2bc59bd5e8778af09bc0e4989f47d5b5d8a492559b5366f45ed7b6e6307d0898d07330d8d89206b988b92ad238ca74e8a50d7efccd6e2db3aa50d2470c6d8a26358c60b35ad16002ad95472776cd962fa8ef009bc026f0299640d049360146756305bd279128c5c9d91aa9f19fba05b99fdcab6a6d195ff00c6bccec86117cccb71e3647ac011d9a15886d0a89f5927dc665848f066d696a9b20bb4df9f31deaca9d68d45789c73a6e0eccbca7bc40c3c50fa2076fc9576d29ff8d2edfb1be82eb1a87aa94761cbf69f0e34b39ca3eadf773072fbcdf03ee217b1d9d89fea28e7f12c9fd9f8fa9e7b1b43a1a9968f35ec66ecfed018ecd712e8fdeceeececf25a31db3956eb43297afef3f337e0b683a3d49e71f4fc76791b7da7c1db5510923b191a2ec23edb77e5edecedef2aaf018a961aa384f47af63e7ee7a8a1596a9e4ce7f47572412c73c46d2c4ecccbf1e0e6bbf0b812d3d857aba73dd77366330eabd271e3aaef3d1f80e2d1d5d3c55111f4246823983b9cd3f89ae05a7b415dc79269ac999e86020080203071bc2a2ab824a799b9a391a5ae1ef0472208041e0404071a8e39f0d73f0fabd5ae766a59ade84b6e00fd97db7b4f1bef04154b8dc1b8d555e1dcfdfc3d3b8b1ab53faba1bafe35f5b7dff799aeaca7cbe937561dc79762d9095f27a9e7da3538b5688db6d493b9a37b8f0016fa70bb3318b93b23a96ce61fd453c719f580bbfda3abbc2e6c3b005e2f1b5fa7ad29f0e1ddc0f4f468aa54d411b762e264d9bca7973341f3ef57946b74905238271dd762e5d6dde2269eb31b00da3d7f11dde1cd7255c5b5943cceba786be7230bfa51ff007cae275ab7fb33a3a1a7c8cba5c60ee7ea39f1fe2b7d2c64d653cd1aaa6193ce26e18f04020dc1dcac14d35747135676655759de304631bc4733cb41f45ba779e27e4b831127395b822c30f4f7637e2cd63aa173ee1bca0d42928a05ca4c45d1bc38788e6392db4ef07744270535664d69e70f687b77380215829df32b1c6ceccc0af96eeec1fc954d8cabd254b2d17eb3aa946c8c17ad08dc4676ee84c948f7305df17d634730df5dbe2dbf880ad76557e8b1093d2593fb7d4e7c5d0556935c5668e6b47541c039bb8ef1f107910bd6ca36c99e6da69d992cd9ac6faa21ae3f56e3fe03cfbb9f9aa8da381e996f457597d7f7816380c6f432dc97c2fe9fbc4c5db5c30453091a3d096e74dc1c3d6f3b83e6b1b2f10ea52dc96b1f4e1e5a1ec684f7a3624fd0962c43ea28dc74d278bb2e432603b2f91ddef2afe8caf13cfed4a3d1d6de5a4b3f1e27595b8ad080200802030b18c260aa89d0d446d92376f6bb9f0208d5ae1c08b10813b668e5bb4db0d350c724d04c25a6635ce7b26706c8c68d7479f465ecbe577692b9aa61a32cd10ab0df7bdc7d4e7fb2d1fd2b1088b87f6994fd88d9ab47b4e706dfb345cdb467fd3e0e56d5e5e7f8b9bf0549748978f91d998578665db2fb16b640cba598b4f67153a359d295f81aa70de460ed3e2b9408da7d617777701e3af976ab173538e5a18a14f3bb30b09c2649b5f55bccfc82b3c36c69d45bd51eeae5c7f062ae3231768e7e86cab70fa3a703afab6c44eecf23197ee0e2aca3b02849596f3fdee39bfaea9d862d6616433ad8646cd17de6107c742411dcaab1bb16745394334b55c57b9d54718a6ed2c997f66ebee4c64f0bb7e63e7e6ab68bddc8ce261f31bc9e5cad73bee827c85d6ede3952bbb107c2695f5320634f6b9dc8713dea785c24b11537578b3beb5554e372612368288012c90c64ee333d81ceeecc7e0bd6e1b034e92b53878eafcca8a95e7379b321d0d34ec0e688a461dce66520f739ab6d4a519756714fbd108ce51cd3221b4583753e9b092c3c3885478ed9718a752978af6f63bf0f8b727bb3f332b65711261747c5aed3b03bf882bcee26aba71515c4df529a72b9b07aad449161e54d1245897b56d46c4709c41bf46a9999c23796bc7365feae41db94b415f41a33fea30f0a9c5aff00bf53cee268da4e3c8dad2cb63d87f90b5491c248314ab0fa06077acd943597de406dfdc1d6f25514e8ee639b8e8e377e7f8b9eb362d5954a59f0cbd2c5ce89a273b15616ee6413193b038b1ad07bddfb255e61d6a636cc95e11e399ddd749481004010040101c47a6cdac12cbf4161fa9832c9556fb6fdf145da0684f6db8b56518343d13425d2cd2bbd6c8c24fe95ce2079443cd507f209f5211e6dbf2ffa586cf8e7267518caf26cb165f615ad9065e695ad91646add755487835d6f2d3e457abd898452b4e4b24afe2fdbd8d189a9b90515c4da6dded48c3a91bd5dbae9065881dcdb0199e471b5c69cdc3b57aca704ef2968bf6c551c9f65b668e2867966ab7324cc3d2733ac2e26c497ddc091636001f70b2939ce6b2765c919d0cec36ae6c031011998494d26432d816b5ec712d2f2c24e5918413bce837d8a8ef37d597803a64b4dd4620c6b7d47fa4cb72735d703b0107c2cbc6ed1c3aa159db479a2d6153a4a19ea6f713ff632fe8dff00b25574679a3547e2445a2c5c61d84cb59606590e5881dc5d7c91df9807338f602bd6ec9a2a34b79f1f45fbf53563277a9bbc8e75b39b1d2e26d7d65456642f90825cceb1f25ad98df334300d40163bb70002b7de9cb4791c9a1894589cb83d7bd90ca5f1b5c039a746c8d201b3dbb83c5ed9b8117dc485353bbdca99f27c50b1dbaa2b19514ec923376481ae6f711c4703c08ec2b44a2e2da6111ad9a6e4a89a3e19411e7a7c5785db341529d9697cbb99714e7bf04c9138aa644d165e54d12463c856d44d1c7ba4c8fabad3281bd91b9c3ef35d789e0f3f519e6bd9ec3a97c2db937ee5563636abde8d7e001e5fd4323926360e8831ae7b9cc3bae1a09b3789f82efad4ddfaa73d0c351a936eacf75776a4ee8360713aa2deb18da760d019482403a9c9130924dfef16f7ad54f0b6cdf1d7996ffdc28e1e1d1e1e3e7fb77f43a96c7ec9418746e6c5773de419657db3bc8dd7b681a2e6cd1a0b9e2493d6924ac8a8a9525524e5377648164804010040101a3db6da16e1f45354bac4b1b68da7ed3dda31bdd722fd80a03cc8627b98f748e264710e91c77ba6a8710dbdb886895fdec52ec304f3a30b5aa88feb5adf0630003de5797fe40ef560bb3ee5aecf5d46fb49ec6579d676b321856b68832f30ad6c89a4d9d8fd394f1334bee711f25efb6446d858be7ec8adc5bbcedd840fa62a92eab0cbe91b18d03bc179fda1e415ccb2a4bb59cab5235b2f8e7d15ee2412d7800db78cb7b7c4a8529a8bcccb2c6d2e306ae53211601a1ad077d85cebda492b1525bcee11ddc071fe8a73bd634f77f7886326fe2e3e6bceff00227bb152eff5476615f524bb8de4aecc0b79823cc5978f55dacec6edd399f49f9860d878dc3ad19bbfab977f995f49c1ff00f1d5b9238abffeb2219b35b5669a2313838b4125b96dc7520dfb75bf6aeca75145599a5a23d5d526591f21def739c7c4dd6a93bbb993b4f45f525f87e53f61e40ee735aff8b9cb756ced2e6918467e1ecb55ca7fb267bdeeff00d578dfe48ad2876965847d4f136ee2bcd23a8b2f2b6244918f215b1236239a74971deaa017b678656df9104387915eaff8fbea4d76af42b3682ce2c8fc188494d2c3590e8f8f2cec1b816b89654c47900f6cadec690aff0054579e9fc27118ea618e788de3958d7b4f6385f5e47810a264cb401004010040101c3ba72c6bafaca7a069f4211d74dcb311e803da1a6ffdeacc55d9864143864a7e7219ea5da5bd107e8f0dfbbab908fd215259b048fa209ef15473eb438fe66ff02bcbedd5fe483ecfb96db3fe092ed3a346e5e79a3b9990c72d6d1065e695ada20cd7617e84b2b7fb471ff1d9ff00e65eef634b7b070f15e4cabc57fe8427a59c2dc67eb00be6635c3b728c8e03b6c01f10af12dfa565aa39b89cd1731236db2d813eb6a6381a0d9ce01c790dee3e02e7c16ca71ceef44619e8bc5a21f4989a37450bec396773037dd1b9794fe4b53ab08f36d9d9855d567dbaf2274d8d1ed6e026af0992268bbe17c8f60f65ef361f91c74ed0be8fb1aa2a984a77e56f2cbd515f5f2a8cf3dc8c2d241162177b4d3b3351553c25ee0d6ef3fcdd6631727640ee3b0349d4d113f7de48ee680c1ef695babdb7925c11846c30d6fa72bf9e46ff008733bfcebc3ff229df1118728fabfc165845d4f1331c5512475a2cbdcb6244d18f2396c489a39774a55396aa93f0871f073803f02bd4ec15684df6a2b368eb146a0bc75641bfd454969d3431d630b80ec0d7c27feaabfd2457703a5f4058e102a30d79d6126486fbf238fa63b838b5dfde1516ac64ec0b002008020080a269431a5ce366b4124f2005c940792b12c55d51256d6baf799eecb7de038fa2df06960fcaa4b4b9833f6807573d4c60dc52c115383db145964ffb81e7c523c4336bd1730c3515901ded201ef8df230fc550edc85e109726d79ffc2cb673eb491d32372f312459b46431cb5b445a2fb1cb5b441a35f58ec930770781e6dfde08ff00095ea3f8ed65b93a4f83baf1c9fef695f8c8692336be823ab8b238d9c3563b8b4fcc1e217a7a737077470321f2f46923dfea4275f5b3903bc802fee5bdd4a4f36866740d8fd968681a48b3a570b17016006fcac1c0733bcdbc169a9537b259205da89334d23fd968ee60ff00d9cf5e0bf9056dfc5eeaf9525e2f3fba2c70f1b533e66547637d8cdc266ca5e3990ef7653fb23cd7b2fe395b7a84a9ff00abfa3fca670e2a369264376b7a3b8a7799610c04eae8dd702e7796387ab7fbbbbb97aa8d58b569ab9ca6a30ae8fcc67eb3246ce394e67bbb2fc3bc9f053e9a115d44609357d4358c0c6801ad00003801a05cd7bbb923ed0b32b05f79b93e3fc2c3c17cf768d7e9f1539ad2f65dcb2faea5c5186ec122e3dcb95237a4587b94d224918d2396d8a2691c93a46066af0c1f62071f16b6593e417aed8f0ddc35f9b6fedf629b1f2bd5b7246331b9df511dff00db51bdcdf6a9c8a81e396270f156d2d4e2465ec8e33f45c4e8aaaf664b9592f0167fa0e27bb3077e4497308f5128990802008020213d3262c69b09a82d3674b9616ff786cffd4ce80f3fe1b080da361dcfa884bbb439d7f98f2537f0983ec551d79aa94ffc69dee3f9de09fda45a304829a4ea31ead69d03a79fc9f21737f69ab836852e970d34b867e5f83a7093dcad17cf2f33a346f5e31a2fda3258f5a9a20d17d8e50688b47caba7eb232388b10791d6de1c3c56fc1625e1abc6a2f1eee3fbccd15a0a71dd35387e265a72bb420d883c17d02138ce2a51774ca669a7664829b151cd64c192714519c9422e52d16612bbb2288f41dbc7b49d49f3baf99d6a8ead49547ab6df997318d92455996ab19b1f3aecbaabbd835fa2c56ebd24ade3aafded39f130bc2fc8f8ec50735ee0ad35d598af6a03534d219e5b7d96eae3f01e3fbd576d4c62c3d0767d6792f7f037e1e96fcfb11be974362bc2a45baccb0f729a44d22c48f5b1224918d23d6d489a39653bfe918acaebe829eb0f7014b3dbe217b9a14ba2a51a7c92f3e3f53cdd59efce52e6cc3c3e7cb5540eb5c3886387e19036377ba42ba25c0d68d3b9b9e89a78c6ef9dbfcc13e51c4f556c2e2ff4bc3e96a09bb9f137391f7dbe849facd7281937a802008020209d33ececd5d871640d2f9229192860def0d0e6b80e66cf26dc72d86a80e43b33b39572384f3534b0c3430c92bdd2b1cccd247192c6b0386a7335a7b003bb4bc9bb9822f85dc52484686e48f00dfdcb2be11c493edf8c98ecce1a36511bdbf9e163afe60ac4750c9c6095dd6c2c90ef2083ded258efd6695e2b1787e86b4a1e5ddc0f4942a74b4d4bf6e6d18f5c6d1b1a2fb1eb5b441a32e96a729bdae0e84730b5b46b9c3791f6a29a9de7365d7b5a0fbeeb753c557a4ad4e6d2ec66974b7be249960d0c7c05bb891f35d30daf8c87cf7ef4991785a6f81f21a20d70766240e06df15b311b66b57a0e94a295f8ae5dd9ea421858c25bc999d995358e8b1f7325858a5e6e083c54a0dc24a51d534d781871bab33023c39a3d6739dee1ee579576fe225f0251fabfdf039e38382d732e8a2878b07966f895c52da58b96b51f865e9636ac3d35a451954e61887a0dee160d6df9d82e69d49d47bd36dbedcc92a72b59592ec3165949249de561237a8d958c77bd4d2249161ef5b122691a2da8ae31c06dbdee6b07e6b977eab5fe4ad365e1fa5c42be8b37f6fa9cd8dabd1d27cde441b62c8754e2525afd5d05711fe16c5fe65eb25a9408d36312188533c7ad190477b721f9294b40890ed5ec75652cd514f1524d2c53499e9df146e7b4b5c410d3941cae02c2c7972b1584f2b03bbf46d82c94586d353cba48c6b8bc69e8991ef90b742412dcf6b8e4a2649320080200802023dd223ad85d77fcb4e3cd8e1f340798b0817a5947b7fb20ad8b4226f7a4579eb30ca9e1250d21279b9976bc795bcd4119267b063ad82a221abe07895a39c728b3c0e795f1b9dfde1e6aab6c617a487491d57a7e35f32c367d7dc96e3d1fa9b76b979868ba68bec7a83445a2f3245adc48d8bad7a83446c5c0f51b18b1587ac58c58fb9d62c2c7dce96163e674b0b1f0bd66c2c505ea563362db9ea4a24ac597c8a6a26522cbdea691248b25d753b12237d22c9d5490d39df144e9a6ec7cbe8c6def6b18effa8bd7eccc37414badabcdfb781e7f1b5fa5a9968b422db19766198bd411aba382169e66690e703c3292bb0e6349b55a08c7b7ee0d5b26611eb6c35f78633cd8c3e6d0b5993250040100401004047ba436df0baeff00969cf931c7e480f32ecbeb1bc7e2f8b42d9122cd9ed113360d40f26eea59eaa95fa7decb2c7e4d042d648dbf479b41f46aaa59dc6d1c9f533f2b496009f6646b0f75d4e59a308eadb4b82f54ecec1f56e3a7e13cbbb92f25b4706f0f3de8fc2fe8f97b7917d83c4f4b1dd96abea68f50abb53b4adb22c3446c5d6c8a0d18b17048a3ba46c562458dd162aeb16374c58758b1ba2c7c322cee8b162b2b99130be4786346f24d87ff00bd8a74e94a72dd8abb3126a2aecc3a1ac96439dcdcb1b81c81c0893858b85f4bea6dbc697b1b81b6a53843aa9ddf1e5e1eff00f4c41c9e6d65f5329d22d691b6c5a748a6912b14d8959d0c924d98c247fbc4ba31972dbee36dee3d83f9dcae365e0ba492ad3592d3b5f3f0f52b71d89dd5d1c75e2708dabc60d41a9aa3bea64392fbc3346463c23685e9b4894dc4cf8a2eab02a665eceacaf7487b6385a5847766682a2b504676aceacee77c94a611eb9c3999628c7263079342819321004010040100406063f49d752cf101732452b40e65cc701f140791b67aadb1b9cd79ca1c06a74b16df7f2de7c94e2cc32678561ae9f01c4a402ed655b258ff002e51211f91ea2f504570402582488f87e6ddef17538e6ac60f46f4638e0c470c8ccbe948cbc3383bf3476173da5b95dde4f25a2a538d48b84d5d336464e2f7a3a98d8de08e84dc6ac3b8f2ec776af258ec0cf0b2beb1e0fecff732f30d8a8d556e2699f12e3523aee51a8593263cd53235da459d96fb2f01f7f65d6691f9afd8a71841ace567dd97d33fa1ae5bc9e975f5fdf11fd2d18f58967b6d73079b858f814fe9e6f4cfbb331bf15ae5de54dc6203ba78bfea33f7ac3c3d5ff57e4cc7490ff65e6634db4d48dd0d4464f26bb3bbc1acb92b647055e5f23f1cbd483af497ccbd4c67e3b3cba5352bcff693fd5463b729f4dc3b805b16169c33ab35dd1cdfb2f323d2ce5f047c5e4bdcae8f0939c4d53219e51eae99628ff471eebfe2372b13c42dddca4b763c79bef7f6d09c2867bd3777f45dc8db1917358df63e5894c8c95b21517231724380e0264b3de2d1fbddfc3b559ecfd9d2c43e92a650f5fc76f91c38ac5aa7d58ebe86174cd8efd1a83e8f19b4b567a96016d19ff14db965f47f385eaa314ac9148ddf3679f769640d11c637345edee6fcd4e46113ee91e81d4906091bc6564703c38fd91239b19935ef37518ea19cfaaffd6aaa38986f9dd1c6d23897380d3c4fb9664ee11ec402da28993ea00802008020080202198d745d85d54c66929c87b8ddfd5bdcc0f2779735a6d73c48b1280de4bb3b00a27d1451b6385d149186b45800f6904f7dc937df7d501e4dc18ba1a8eade2c6ee63c1e0e077798b78a945e6619d1fa29da0fa0e266079b435b60de4d947abfe224b7bdece49259847a01ec0e0410083bc1dcb5ca2a49c64ae8926d3ba2358aece117745a8fb8778f649dfdc579dc66c6947af434e5ecfeccb4a18f4f2a9e64764a7b1208208de08b1546db8bb356659295d5d165d4ea4a64ae5b30acef0b9664a369ded69ef00a9aa8d68cc349ea8a994e06e00770b2c39df532acb42aea8ac6f0b9508163785cb8da751733173220a52e21ad05c4f00166119d496ec15df61194d455dbb126c2b67436ce96c4f0670fcc78f76eef5e8305b1d47af5f3ece1e3cfbb4ef2af118e6fab4fcfd89080af8ad3cdfb6f8eff00486292c8d3786987530f224139de386a736bcb2f2538230c89e0f47f4dc4e186d76c9346d23f0348cfe19438ac4b507aab1fc069ab6230d4c4d923bdc03705a45c0735c356bb53a83c4a899349b37d1c61b43275d0c1f5a2f95ef7b9e5b7df9731b34f0b817ed404b5004010040100401004010040796ba61c24d262d3168004b96767e72737fdc6bd64c1aec60f5903656120b72bda41b11baf63c08dfe0a72cd183d3fb2389baaa8a9aa1deb4b0c6e77b45a335bb2f75ac91b7406356504728f4da0f23b88ee2b9b1184a35d5aa46fdbc7ccdb4eb4e9fc2cd1d56cc1df1bfc1dfbc7ee54b5f613d694bc1fbaf63be9ed05f3af23573e113b77c64fb3e97c35559536762a9eb07e19fa6675c7154a5a4bcf230df111bda477823e2b9650947e24d77ab1b9493d194e8a1bc8966571c0e77aad71ee693f05b234e72f862df726c8b9c56accd83059ddff000c8ed769eedfee5d74f6662aa7c96efcbf3f4344f17463f3791b5a4d991be47dfb1ba7bcfee0ad286c35ad595fb17bff00c392a6d07f22f33794b48c8c598d0d1d9bcf79de55d51c3d3a2b769c6c57d4ab3a8ef2772f2dc4089f4a78eba8b0ca8959a48408e33c9d21cb9bbc024f78080f3ac03a8a5bfda2dbfe676ef2d3c96cd111253ffc7cc1badc41f5045db4d19b1fc72dd8dfd5eb3dcb5923d1a80200802008020080200802008020207d2b6c0ff4a44c744e6b2a21cdd5975f2bdaeb666388dda8041d6daf34072cc13a25c5dee304cd641013e93dd231fa5f531b58e26e791b6fe0b373163d0b85d0329e18e08c599131ac60de6cd000b9e274deb064ca4010040100402c9601004010040101a8dacc023afa4969652436402ce1bdae04398e1cec4036e3b901c0f13e89f193208bab8e48dba3646cac6b2c2e039cd71cf7b761596cc58ecfd1b6c6b70ba5ea8b83e57bb3ccf02c0bb706b6fae568d3b753a5ec30649620080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080200802008020080203fffd9);
call sp_insNoticia('quam urna,  ',date(now()),'psanches',' Fusce ut interdum velit. Sed vestibulum, libero et interdum tempus, urna est tempor eros, ut lacin','002',null);
call sp_insNoticia(' iaculis sed',date(now()),'slara','Duis nec malesuada tellus. Curabitur maximus quis odio in semper. Cras posuere ex a dignissim dictum','001',null);
call sp_insNoticia('ipsum Lorem ',date(now()),'sruiz','nulla in, fringilla vehicula nisl. Nunc ex sem, porta nec egestas vitae, hendrerit sed ante. Nullam in odio quis sem','001',null);
call sp_insNoticia('quam iaculis',date(now()),'ssalas',' Mauris non commodo elit. Nulla viverra nisl velit','001',null);
call sp_insNoticia('iaculis Lorem',date(now()),'eorias','Maecenas sed facilisis ante. Duis nec malesuada tellus. Curabitur maximus quis odio in semper. Cras posuere ex a dignissim dictum.','002',null);
 

/*esta vara la puso angel*/
  
 
/*vistas de angel, les agrege el "drop if ex"*/
  
DROP VIEW IF EXISTS vst_acercade;
CREATE VIEW vst_acercade 
AS
Select idS,nomS,idN,tituloN,fechaN,usuarioN,cuerpoN,imageA,archivoA from dinamic WHERE idS = 2 LIMIT 0,3; 


 
DROP VIEW IF EXISTS vst_acerca_de;
CREATE VIEW vst_acerca_de 
AS
Select idS,idN,tituloN,fechaN,usuarioN,cuerpoN,imageA FROM dinamic WHERE idS = 002; 


 
DROP VIEW IF EXISTS vst_cultura;
CREATE VIEW vst_cultura
AS
Select idS,nomS,idN,tituloN,fechaN,usuarioN,cuerpoN,imageA,archivoA from dinamic WHERE idS = 1 LIMIT 0,3; 


 
DROP VIEW IF EXISTS vst_sec_cultura;
CREATE VIEW vst_sec_cultura
AS
Select idS,idN,tituloN,fechaN,usuarioN,cuerpoN,imageA FROM dinamic WHERE idS = 001;


 
DROP VIEW IF EXISTS vst_uninoti;
CREATE VIEW vst_uninoti
AS
SELECT idN,tituloN,fechaN,usuarioN,cuerpoN,imageA FROM dinamic;



/*elimina un token*/
 
DROP PROCEDURE IF EXISTS delToken;
CREATE PROCEDURE delToken(
tok  varchar(100)
)
BEGIN
DELETE FROM sessionToken where token = tok;
END;


